function GetFormatedLeadId(){var a=Date.now(),b=new Date(a),c=b.getFullYear()-2e3+"";return c+=(b.getMonth()+1<10?"0":"")+(b.getMonth()+1),c+=(b.getDate()<10?"0":"")+b.getDate(),c+=(b.getHours()<10?"0":"")+b.getHours(),c+=(b.getMinutes()<10?"0":"")+b.getMinutes(),c+=(b.getSeconds()<10?"0":"")+b.getSeconds(),_commonJSParams.SiteId+"-"+c}function LeadTypeEnum(a){switch(a){case"email":return 1;case"tradeappraisal":return 9;case"creaditapp":return 10;case"vehiclefinder":return 13;case"scheduleappointmentrequest":return 14;case"coupons":return 25;case"requestatestdrive":return 27;case"partsRequest":return 29;case"survey":return 31;case"specialsinventory":return 32;case"specialsparts":return 33;case"specialsservice":return 34;case"specialsother":return 35;case"contactus":return 40;case"pricealertsubscription":return 44;case"textrequest":return 45;case"textmessage":return 46;default:return 0}}function ExecuteGaTrackerFunction(a){"undefined"!=typeof ga&&$.isFunction(ga)?ga(function(b){try{b=b||ga.getAll()[0];var c=new window.gaplugins.Linker(b);a(c)}catch(d){a()}}):a()}function OpeniFrameGADecorated(a){var b="",c=a.split("leadtype=")[1];if(void 0!==c){var d=c.split("&")[0],e=LeadTypeEnum(d);a=a+"&leadId="+GetFormatedLeadId()+"-"+e}return ExecuteGaTrackerFunction(function(c){c&&(b=c.decorate(a))}),""==b?a:b}function GetSessionId(){return GetCookie("EBizSessionId")}function GetCookie(a){var b=document.cookie.match(new RegExp("(?:^|; )"+a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return b?decodeURIComponent(b[1]):void 0}function BindSrcToIframes(){var a=$(".ebizIframeTarget"),b=$(".ebizIframe"),c=[];if(b.length>0){for(var d=0;d<a.length;d++)$(a[d]).on($(a[d]).data("event-type"),function(){for(var a=0;a<b.length;a++)$(b[a]).data("leadtype")==$(this).data("leadtype")&&""==$(b[a]).attr("src")&&(b[a].src=OpeniFrameGADecorated(_leadJSParams[parseInt($(this).data("leadtype"))]),b[a].hidden=!1);TrackingBinder(),"undefined"!=typeof iFrameResize&&iFrameResize({checkOrigin:!1},"#ebizIframe")}),c.push(parseInt($(a[d]).data("leadtype")));for(var d=0;d<b.length;d++)-1===c.indexOf($(b[d]).data("leadtype"))&&(b[d].src=OpeniFrameGADecorated(_leadJSParams[parseInt($(b[d]).data("leadtype"))]),b[d].hidden=!1);TrackingBinder(),"undefined"!=typeof iFrameResize&&iFrameResize({checkOrigin:!1},"#ebizIframe")}}function FinalizeCarfaxSection(){$(".carfax-dealer-snapshot-hover").remove(),$(".carfax-snapshot-hover").each(function(){FinalizeVehicleCarfaxSection($(this))})}function FinalizeVehicleCarfaxSection(a){var b=a.attr("src"),c=a.data("src");if(void 0!==c&&(b=c),b.indexOf("images.ebizautos.media")>=0)a.removeAttr("data-snapshotkey");else{var d=a.data("key"),e=a.data("snapshotkey");void 0!==d&&void 0===e&&a.attr("data-snapshotkey",d),a.removeAttr("data-vin"),a.removeAttr("data-partner"),a.removeAttr("data-key")}a.removeAttr("hidden")}function changeCompareIcon(a,b){var c="icon-line-check",d="icon-line-stop";if(!0===b){var e=c;c=d,d=e}var f=$("#"+a.iid);f.children("."+c).removeClass(c).addClass(d),f.children("span").text(b?"Compared":"Compare")}function addVehicleCompareItem(a,b,c,d,e){var f=getCompareCookieArray();if(vehicleObj={iid:a,imgSrc:b,make:c,model:d,year:e},!compareCarsByIID(f,vehicleObj)){if(f.length>2)return void alert("A maximum of 3 vehicles can be selected for Vehicles Comparison");changeCompareIcon(vehicleObj,!0),f.push(vehicleObj),setCompareCookieArray(f),updateCompareSrc()}}function compareCarsByIID(a,b){for(var c=0;c<a.length;c++)if(a[c].iid==b.iid)return!0;return!1}function updateCompareSrc(){for(var a=VehicleCompareLink+"?iids=",b=getCompareCookieArray(),c=0;c<b.length;c++)a+=b[c].iid+",";return","==a.slice(-1)&&(a=a.slice(0,-1)),$("#comparesource").attr("link",a),a}function updateImages(){for(var a=getCompareCookieArray(),b=0;b<a.length;b++)insertImage(a[b].iid)}function getCompareCookieArray(){var a=[];return $.cookie("EBizAutosGalleryComparedVehicles")&&(a=JSON.parse($.cookie("EBizAutosGalleryComparedVehicles"))),a}function setCompareCookieArray(a){var b=new Date;b.setTime(b.getTime()+2592e6),$.cookie("EBizAutosGalleryComparedVehicles",JSON.stringify(a),{expires:b,path:"/"})}function insertImage(a){for(var b=getCompareCookieArray(),c=(_commonJSParams.DealerDomain,0),d=0;d<b.length;d++)b[d].iid==a&&(c=d+1);for(var d=0;d<b.length;d++)if(b[d].iid==a){$(".SelectedVehicle"+c+">.VehiclePhoto").attr("src",b[d].imgSrc),$(".SelectedVehicle"+c+">.VehiclePhoto").css("display","block"),$(".SelectedVehicle"+c+">i").css("display","block");break}}function hideImages(a){for(var b=1;b<=3-a.length;b++)$(".SelectedVehicle"+(3-(b-1))+">.VehiclePhoto").css("display","none"),$(".SelectedVehicle"+(3-(b-1))+">i").css("display","none")}function AddVehiclesUpdatePreview(a,b,c,d,e){var f=getCompareCookieArray();if(vehicleObj={iid:a,imgSrc:b,make:c,model:d,year:e},!compareCarsByIID(f,vehicleObj)){if(f.length>2)return void alert("A maximum of 3 vehicles can be selected for Vehicles Comparison");changeCompareIcon(vehicleObj,!0),f.push(vehicleObj),setCompareCookieArray(f),insertImage(a),updateCompareSrc()}}function fillModalCompare(){var a=$("#comparesource").attr("link"),b=getCompareCookieArray();if(!(b.length>0))return void alert("You should select at least one vehicle");$("#srp-modal-compare").modal("show"),$.cookie("EBizAutosGalleryDeletedVehicles",null,{path:"/"}),_popupObject.removerdNums=[],$("#modal-body").html(""),b.length>0&&$.get(a,function(a){$(".OptionsData").css("display","none");var b="";void 0!=$(a).find(".disclaimer").html()&&(b='<div class="disclaimer">'+$(a).find(".disclaimer").html()+"</div>"),$("#modal-body").html('<table border="0" cellpadding="0" cellspacing="0" class="CompareVehiclesTable" id="CompareVehiclesContainer">'+$(a).find("table").html()+"</table>"+b),$(".VehicleComparingAdditional").css("width","265.433")})}function RemoveComparedItem(a){_popupObject.removerdNums=JSON.parse($.cookie("EBizAutosGalleryDeletedVehicles")),null==_popupObject.removerdNums&&(_popupObject.removerdNums=[]),0==a&&RemoveItemFromBar(a+1),1==a&&RemoveItemFromBar(-1==$.inArray(0,_popupObject.removerdNums)?a+1:a),2==a&&RemoveItemFromBar(3-_popupObject.removerdNums.length),_popupObject.removerdNums.push(a),$.cookie("EBizAutosGalleryDeletedVehicles",JSON.stringify(_popupObject.removerdNums),{path:"/"});var b=3*(a+1)+1,c=3*(a+1)-3;$(".CompareVehiclesTable>tbody>tr:gt(1)>td:nth-child("+(a+2)+")").attr("style","display: none !important"),$(".CompareVehiclesTable>tbody>tr:eq(0)>td:lt("+b+"):gt("+c+")").attr("style","display: none;"),$(".CompareVehiclesTable>tbody>tr:eq(1)>td:lt("+b+"):gt("+c+")").attr("style","display: none;"),$(".VehicleComparingAdditional").filter(function(){return"none"==$(this).css("display")}).first().css("display","").css("width","265.433"),$(".ItemPhoto").filter(function(){return"none"!=$(this).css("display")}).length<1&&$("#srp-modal-compare").modal("toggle"),2==$(".ItemPhoto").filter(function(){return"none"!=$(this).css("display")}).length&&$(".VehicleComparingAdditionalColumn1").css("display",""),1==$(".ItemPhoto").filter(function(){return"none"!=$(this).css("display")}).length&&$(".VehicleComparingAdditionalColumn2").css("display",""),0==$(".ItemPhoto").filter(function(){return"none"!=$(this).css("display")}).length&&$("#modal-body").html("")}function fillVehicleCompareBox(){if(getCompareCookieArray().length>0){var a=$("#comparesource").attr("link");$.get(a,function(a){VehicleCompareWindow.onLoad(),$("#vehicle-compare-box").html(a)})}}function removeVehicleCompareItem(a){var b,c=getCompareCookieArray();for(b=0;b<c.length&&c[b].iid!=a;b++);changeCompareIcon(c[b],!1),c.splice(b,1),setCompareCookieArray(c),updateCompareSrc()}function ExpandCompareOptions(){$(".OptionsLink").css("display","none"),$(".OptionsData").css("display","block")}function UpdatePageSize(a){var b=new Date;b.setTime(b.getTime()+2592e6),$.cookie("EBizAutosBuyersSiteCookiePageSize",$("option:selected",a.currentTarget).val(),{expires:b,path:"/"}),window.location.href=$("#paginationActionUrl").val()}function ChooseCorrectOption(a){$("select[name=pageSize]>option[value="+a+"]").prop("selected",!0)}function SubmitRangeFilters(){var a=$("#filtersActionUrl").val(),b=$(this).find(".ebiz-range-from-hidden")[0].name,c=$(this).find(".ebiz-range-to-hidden")[0].name,d="",e="";-1!=a.indexOf("?")?(e=a.substring(0,a.indexOf("?")+1),d=a.substring(a.indexOf("?")+1)):e=a,d.length>0?d+="&":d="?";var f=parseInt($("input[name="+b+"]",$(this)).val()),g=parseInt($("input[name="+c+"]",$(this)).val()),h=parseInt(f),i=parseFloat(g);if(d=e+d,isNaN(h)||isNaN(i))if(isNaN(h)){if(isNaN(i))return;d+=c+"="+i}else d+=b+"="+h;else h>i?(h=g,i=f):(h=f,i=g),d+=b+"="+h+"&"+c+"="+i;window.location.href=d}function SubmitYearRangeFilters(a){var b=$(a.currentTarget).parents("form")[0],c=$("#filtersActionUrl").val(),d="_yearfrom",e="_yearto",f="",g="";-1!=c.indexOf("?")?(g=c.substring(0,c.indexOf("?")+1),f=c.substring(c.indexOf("?")+1)):g=c,f.length>0?f+="&":f="?";var h=$("select[name="+d+"]",b).val(),i=$("select[name="+e+"]",b).val();h>i?(yearLow=i,yearHigh=h):(yearLow=h,yearHigh=i),f=g+f+d+"="+yearLow+"&"+e+"="+yearHigh,window.location.href=f}function SubmitPriceRangeFilters(a){var b=$(a.currentTarget).parents("form")[0],c=$("#filtersActionUrl").val(),d="_pricefrom",e="_priceto",f="",g="";-1!=c.indexOf("?")?(g=c.substring(0,c.indexOf("?")+1),f=c.substring(c.indexOf("?")+1)):g=c,f.length>0?f+="&":f="?";var h=$("input[name="+d+"]",b).val(),i=$("input[name="+e+"]",b).val(),j=parseInt(h),k=parseFloat(i);if(f=g+f,isNaN(j)||isNaN(k))if(isNaN(j)){if(isNaN(k))return;f+=e+"="+k}else f+=d+"="+j;else j>k?(j=i,k=h):(j=h,k=i),f+=d+"="+j+"&"+e+"="+k;window.location.href=f}function SubmitMileageRangeFilters(a){var b=$(a.currentTarget).parents("form")[0],c=$("#filtersActionUrl").val(),d="_milesfrom",e="_milesto",f="",g="";-1!=c.indexOf("?")?(g=c.substring(0,c.indexOf("?")+1),f=c.substring(c.indexOf("?")+1)):g=c,f.length>0?f+="&":f="?";var h=parseInt($("input[name="+d+"]",b).val()),i=parseInt($("input[name="+e+"]",b).val()),j=parseInt(h),k=parseFloat(i);if(f=g+f,isNaN(j)||isNaN(k))if(isNaN(j)){if(isNaN(k))return;f+=e+"="+k}else f+=d+"="+j;else j>k?(j=i,k=h):(j=h,k=i),f+=d+"="+j+"&"+e+"="+k;window.location.href=f}function SubmitMpgCityRangeFilters(a){var b=$(a.currentTarget).parents("form")[0],c=$("#filtersActionUrl").val(),d="_mpgcityfrom",e="_mpgcityto",f="",g="";-1!=c.indexOf("?")?(g=c.substring(0,c.indexOf("?")+1),f=c.substring(c.indexOf("?")+1)):g=c,f.length>0?f+="&":f="?";var h=parseInt($("input[name="+d+"]",b).val()),i=parseInt($("input[name="+e+"]",b).val()),j=parseInt(h),k=parseFloat(i);if(f=g+f,isNaN(j)||isNaN(k))if(isNaN(j)){if(isNaN(k))return;f+=e+"="+k}else f+=d+"="+j;else j>k?(j=i,k=h):(j=h,k=i),f+=d+"="+j+"&"+e+"="+k;window.location.href=f}function SubmitMpgHwyRangeFilters(a){var b=$(a.currentTarget).parents("form")[0],c=$("#filtersActionUrl").val(),d="_mpghwyfrom",e="_mpghwyto",f="",g="";-1!=c.indexOf("?")?(g=c.substring(0,c.indexOf("?")+1),f=c.substring(c.indexOf("?")+1)):g=c,f.length>0?f+="&":f="?";var h=parseInt($("input[name="+d+"]",b).val()),i=parseInt($("input[name="+e+"]",b).val()),j=parseInt(h),k=parseFloat(i);if(f=g+f,isNaN(j)||isNaN(k))if(isNaN(j)){if(isNaN(k))return;f+=e+"="+k}else f+=d+"="+j;else j>k?(j=i,k=h):(j=h,k=i),f+=d+"="+j+"&"+e+"="+k;window.location.href=f}function InitRequestMoreInfoPopup(a){var b=$(a.currentTarget).parents(".srp-vehicle-block")[0],c=$("#srp-vehicle-title",b).html(),d=$("a",c).html(),e=$("h3",c).html(),f=$("#srp-vehicle-photo",b).attr("src"),g=$(".srp-vehicle-price-wrapper",b).html(),h=$("#form-request-more-info"),i=$(a.currentTarget).attr("data-source");if($("#form-content iframe",h).attr("src",OpeniFrameGADecorated(i)),a.currentTarget.hasAttribute("data-title")?$(h).parents().find(".modal-title").html($(a.currentTarget).attr("data-title")):($(h).parents().find(".modal-title").html($("#srp-modal-request-more-info").attr("rmi-title")),$("#vehicle-image img",h).attr("src",f),$(".vehicle-information-wrapper h3",h).html(d),$(".vehicle-information-wrapper strong",h).html(e),$(".vehicle-price-wrapper",h).html(g)),a.currentTarget.hasAttribute("data-phone")){var j=$(a.currentTarget).attr("data-phone");$(".contact-info .phone",h).html(j)}}function ClearRequestMoreInfoPopup(a){var b=$("#srp-modal-request-more-info");if("none"==b.css("display")&&b.has(a.target).length>0||0==$(".modal-dialog",b).has(a.target).length){var c=$("#form-request-more-info");$("#vehicle-image img",c).attr("src",""),$(".vehicle-information-wrapper h3",c).empty(),$(".vehicle-information-wrapper strong",c).empty(),$(".vehicle-price-wrapper",c).empty()}}function InitSMSTwilioInfoPopup(a){var b=$(a.currentTarget).parents(".srp-vehicle-block")[0],c=$("#srp-vehicle-title",b).html(),d=$("a",c).html(),e=$("h3",c).html(),f=$("#srp-vehicle-photo",b).attr("src"),g=$(".srp-vehicle-price-wrapper",b).html(),h=$("#form-sms-twilio"),i=$(a.currentTarget).attr("data-source");if($("#form-content-sms-twilio iframe",h).attr("src",i),$("#vehicle-image img",h).attr("src",f),$(".vehicle-information-wrapper h3",h).html(d),$(".vehicle-information-wrapper strong",h).html(e),$(".vehicle-price-wrapper",h).html(g),a.currentTarget.hasAttribute("data-phone")){var j=$(a.currentTarget).attr("data-phone");$(".contact-info .phone",h).html(j)}}function ClearSmsTwilioPopup(a){var b=$("#srp-modal-sms-twilio");if("none"==b.css("display")&&b.has(a.target).length>0||0==$(".modal-dialog",b).has(a.target).length){var c=$("#form-sms-twilio");$("#vehicle-image img",c).attr("src",""),$(".vehicle-information-wrapper h3",c).empty(),$(".vehicle-information-wrapper strong",c).empty(),$(".vehicle-price-wrapper",c).empty()}}function addStyleString(a){var b=document.createElement("style");b.innerHTML=a,document.body.appendChild(b)}function doFieldValidation(a,b){if(null==a)return!1;var c="";return!b&&IsEmpty(a)?(select(a),!1):(!b||!IsEmpty(a))&&(c=parseFloat(a.value,10),!isNaN(c)&&c==a.value||(alert(a.name+" must be a number."),select(a),!1))}function PaymentCalculator(){var a=document.getElementById("desiredPrice"),b=document.getElementById("salesTax1"),c=document.getElementById("term1"),d=document.getElementById("rate1"),e=document.getElementById("downPayment1"),f="$",g=d.value.replace(/%/gi,""),h=b.value.replace(/%/gi,"");if(doFieldValidation(a,!1)&&doFieldValidation2(b,!0,b)&&doFieldValidation(c,!1)&&doFieldValidation2(d,!1,d)&&doFieldValidation(e,!0))if(g>0){var i=g/100/12,j=h/100,k=a.value*(1+j)-e.value;f=c.value>0?k*(i*Math.pow(1+i,c.value))/(Math.pow(1+i,c.value)-1):0}else{var j=h/100;f=c.value>0?(a.value*(1+j)-e.value)/c.value:0}"$"==f||f<0||isNaN(f)?$("#monthlyPayment").html("$0.00"):$("#monthlyPayment").html("$"+NumericDGroup(f.toFixed(2)))}function AffordabilityCalculator(){var a=document.getElementById("desiredPayment"),b=document.getElementById("salesTax2"),c=document.getElementById("term2"),d=document.getElementById("rate2"),e=document.getElementById("downPayment2"),f="$",g=d.value.replace(/%/gi,""),h=b.value.replace(/%/gi,"");if(doFieldValidation(a,!1)&&doFieldValidation2(b,!0,b)&&doFieldValidation(c,!1)&&doFieldValidation2(d,!1,d)&&doFieldValidation(e,!0))if(g>0){var i=g/100/12,j=h/100;f=a.value*(Math.pow(1+i,c.value)-1)/(i*Math.pow(1+i,c.value))/(1+j)+1*e.value}else{var j=h/100;f=a.value*c.value/(1+j)+1*e.value}"$"==f||f<0||isNaN(f)?$("#estimatedPrice").html("$0.00"):$("#estimatedPrice").html("$"+NumericDGroup(f.toFixed(2)))}function doFieldValidation2(a,b,c){var d="";return!b&&IsEmpty(a)?(select(c),!1):(!b||!IsEmpty(a))&&(d=parseFloat(a.value.replace(/%/gi,"").replace(/,/gi,""),10),!isNaN(d)&&d==a.value.replace(/%/gi,"").replace(/,/gi,"")||(alert(c.name+" must be a number."),select(c),!1))}function NumericDGroup(a){var b="",c="",d=a.indexOf(".");for(d<0?d=a.length:c=a.substring(d,a.length),i=d;i>0;i-=3)i<4?(b=a.slice(0,i),c=b+c):(b=a.slice(i-3,i),c=","+b+c);return c}function SearchCarsFromCalculator(a,b,c){var d="";b?(d=$("#"+a).html(),d=d.substring(1,d.length-3),d=d.replace(",","")):d=$("#"+a).val(),b&&0==d?alert("Please provide your Desired Monthly Payment in order to continue your search."):b||""!=d?(c=c.replace("{price}",d),window.location=c):alert("Please provide your Desired Vehicle Price in order to continue your search.")}function AddPercentToNumeric(a){a.value.indexOf("%")==a.value.length-1?a.value=a.value.substr(0,a.value.length-1):a.value=a.value+"%"}function CalculatorClearField(a,b){a.value==b&&(a.value="")}function CalculatorPopulateField(a,b){0==a.value.length&&(a.value=b)}function IsEmpty(a){return null!=a&&0==a.value.length}function select(a){a.focus(),a.select()}function printModal(a){a=a.split("hidden-xs").join("");var b=$("<div>").append(a);$("iframe, #ebiz-remove-block-when-print, .visible-xs, .pagination-control",b).remove(),$("#ebiz-print-special-modal").modal("show"),$("#modal-body").html(b),$("#ebiz-print-special-modal").on("shown.bs.modal",printModalContent(b))}function printModalContent(a){a.printThis({debug:!1,importCSS:!0,loadCSS:"http://images.ebizautos.media/foundation/sites/12584/css/print.css",pageTitle:"My Modal",removeInline:!1,printDelay:1500,header:null})}$(document).ready(function(){$("iframe[data-source]").each(function(){""!==$(this).data("source")&&($(this)[0].src=OpeniFrameGADecorated($(this).data("source")))})}),window.addEventListener?window.addEventListener("load",BindSrcToIframes,!1):window.attachEvent?window.attachEvent("onload",BindSrcToIframes):window.onload=BindSrcToIframes;var VehicleCompareLink,VehicleCompareWindow={onLoad:function(){}};$(document).ready(function(){if($.cookie){var a=getCompareCookieArray();$(".button-row-compare").children("a[id]").children(".icon-line-check").removeClass("icon-line-check").addClass("icon-line-stop");for(var b=0;b<a.length;b++)changeCompareIcon(a[b],!0)}FinalizeCarfaxSection()});var updatePreviewImagesAndCompareLink=function(a){for(var b=getCompareCookieArray(),c=0;c<3;c++)$(".SelectedVehicle"+(c+1)+">.VehiclePhoto").css("display","none"),$(".SelectedVehicle"+(c+1)+">i").css("display","none");updateCompareSrc();for(var c=0;c<b.length;c++)updateImages(b[c].iid)},RemoveItemFromBar=function(a){var b=getCompareCookieArray();changeCompareIcon(b[a-1],!1),b.splice(a-1,1),setCompareCookieArray(b),1==a&&($(".SelectedVehicle1 .VehiclePhoto").prop("src",$(".SelectedVehicle2 .VehiclePhoto").prop("src")),$(".SelectedVehicle2 .VehiclePhoto").prop("src",$(".SelectedVehicle3 .VehiclePhoto").prop("src"))),2==a&&$(".SelectedVehicle2 .VehiclePhoto").prop("src",$(".SelectedVehicle3 .VehiclePhoto").prop("src")),hideImages(b),updateCompareSrc()};_popupObject={removerdNums:[],close:function(){$("#srp-modal-compare").modal("toggle")}},$(document).ready(function(){if($.cookie){if(2==_commonJSParams.PageType){0==$("#vehicle-compare-box").length?(VehicleCompareLink=$("#siteDefaultUrl").val()+"inventorycompare.aspx",$("#srp-button-compare ").attr("onclick","javascript:fillModalCompare()")):VehicleCompareLink=$("#vehicle-compare-box").data("vehicle-compare-url"),$("body").append('<input type="hidden" id="comparesource" name="fieldname" link="" />');var a=getCompareCookieArray();a&&a.length>0&&updatePreviewImagesAndCompareLink(a)}$("select[name=pageSize]").on("change",UpdatePageSize),$(".submitYearRangeButton").on("click",SubmitYearRangeFilters),$(".submitPriceRangeButton").on("click",SubmitPriceRangeFilters),$(".submitMileageRangeButton").on("click",SubmitMileageRangeFilters),$(".submitMpgCityRangeButton").on("click",SubmitMpgCityRangeFilters),$(".submitMpgHwyRangeButton").on("click",SubmitMpgHwyRangeFilters),$(".ebiz-range-inventory-filter-form").on("submit",SubmitRangeFilters),$(".button-row-eprice a").on("click",InitRequestMoreInfoPopup),$("#srp-modal-request-more-info").on("hidden.bs.modal",ClearRequestMoreInfoPopup),void 0!=$("#srp-modal-request-more-info").find(".modal-title")[0]&&$("#srp-modal-request-more-info").attr("rmi-title",$("#srp-modal-request-more-info").find(".modal-title")[0].innerHTML),$(".button-row-smstwilio a").on("click",InitSMSTwilioInfoPopup),$("#srp-modal-sms-twilio").on("click",ClearSmsTwilioPopup)}});var salesPriceLoan=0,salesTaxLoan=0,loanTermLoan=0,interestRateLoan=0,downPaymentLoan=0,tradeInValueLoan=0,rebatesLoan=0,salesPriceLease=0,salesTaxLease=0,loanTermLease=0,interestRateLease=0,residualValueLease=0,downPaymentLease=0,tradeInValueLease=0,rebatesLease=0;$(document).ready(function(){var a=!1,b=!1;$("input",".calculatePayment .calculatorMiddle").keyup(function(){a||(a=!0)}),$("input",".affordabilityCalculator .calculatorMiddle").keyup(function(){b||(b=!0)})}),$(document).ready(function(){$("#ebiz-print-special-button").on("click",function(){printModal($(".container.clearfix.topmargin-lg").html())})}),function(a){var b;a.fn.printThis=function(c){b=a.extend({},a.fn.printThis.defaults,c);var d=this instanceof jQuery?this:a(this),e="printThis-"+(new Date).getTime();if(window.location.hostname!==document.domain&&navigator.userAgent.match(/msie/i)){var f='javascript:document.write("<head><script>document.domain=\\"'+document.domain+'\\";<\/script></head><body></body>")',g=document.createElement("iframe");g.name="printIframe",g.id=e,g.className="MSIE",document.body.appendChild(g),g.src=f}else{a("<iframe id='"+e+"' name='printIframe'></iframe>").appendTo("body")}var h=a("#"+e);b.debug||h.css({position:"absolute",width:"0px",height:"0%",left:"-600px",top:"-600px"}),setTimeout(function(){var c=h.contents(),e=c.find("head"),f=c.find("body");if(e.append('<base href="'+document.location.protocol+"//"+document.location.host+'">'),b.importCSS&&a("link[rel=stylesheet]").each(function(){var b=a(this).attr("href");if(b){var c=a(this).attr("media")||"all";e.append("<link type='text/css' rel='stylesheet' href='"+b+"' media='"+c+"'>")}}),b.importStyle&&a("style").each(function(){a(this).clone().appendTo(e)}),b.pageTitle&&e.append("<title>"+b.pageTitle+"</title>"),b.loadCSS&&(a.isArray(b.loadCSS)?jQuery.each(b.loadCSS,function(a,b){e.append("<link type='text/css' rel='stylesheet' href='"+this+"'>")}):e.append("<link type='text/css' rel='stylesheet' href='"+b.loadCSS+"'>")),b.header&&f.append(b.header),b.printContainer?f.append(d.outer()):d.each(function(){f.append(a(this).html())}),b.formValues){var g=d.find("input");g.length&&g.each(function(){var b=a(this),d=a(this).attr("name"),e=b.is(":checkbox")||b.is(":radio"),f=c.find('input[name="'+d+'"]'),g=b.val();e?b.is(":checked")&&(b.is(":checkbox")?f.attr("checked","checked"):b.is(":radio")&&c.find('input[name="'+d+'"][value='+g+"]").attr("checked","checked")):f.val(g)});var i=d.find("select");i.length&&i.each(function(){var b=a(this),d=a(this).attr("name"),e=b.val();c.find('select[name="'+d+'"]').val(e)});var j=d.find("textarea");j.length&&j.each(function(){var b=a(this),d=a(this).attr("name"),e=b.val();c.find('textarea[name="'+d+'"]').val(e)})}b.removeInline&&(a.isFunction(a.removeAttr)?c.find("body *").removeAttr("style"):c.find("body *").attr("style","")),setTimeout(function(){h.hasClass("MSIE")?(window.frames.printIframe.focus(),e.append("<script>  window.print(); <\/script>")):(h[0].contentWindow.focus(),h[0].contentWindow.print()),b.debug||setTimeout(function(){h.remove()},1500)},b.printDelay)},333)},a.fn.printThis.defaults={debug:!1,importCSS:!0,importStyle:!1,printContainer:!0,loadCSS:"",pageTitle:"",removeInline:!1,printDelay:333,header:null,formValues:!0},jQuery.fn.outer=function(){return a(a("<div></div>").html(this.clone())).html()}}(jQuery),$(document).ready(function(){$("#ctlIsShipToZipAvailable").change(function(){this.checked?$("#ctlShipToZip").prop("readonly",!1):$("#ctlShipToZip").prop("readonly",!0)}).change(),$("#ctlIsTestDriveSelected").change(function(){this.checked?($("#ctlFirstTimePreferenceDate").prop("readonly",!1),$("#ctlFirstTimePreferenceTime").prop("readonly",!1)):($("#ctlFirstTimePreferenceDate").prop("readonly",!0),$("#ctlFirstTimePreferenceTime").prop("readonly",!0))}).change(),$("#srp-modal-request-more-info").on("shown.bs.modal",function(){$("#srp-modal-request-more-info").find("[data-toggle=popover]").popover({html:!0})}),navigator.userAgent.startsWith("ebiz-app-penskecars")&&($("#download-window-sticker-button").length&&$("#download-window-sticker-button").hide(),$("meta[name=viewport]").attr("content","user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi")),$.datepicker&&$("input[type=date]").datepicker().attr("type","text")});